<div class="main-container">
  <div class="container d-flex justify-content-center mt-5">
    <div class="col-md-6 col-lg-4">
      <div class="bg-image hover-overlay ripple">
        <a href="#" target="_blank">
          <img src="assets/reservafacil.png" alt="Reserva Fácil" class="img-fluid" />
        </a>
      </div>

      <div class="form-outline mb-4">
        <input
          type="number"
          [(ngModel)]="quartoId"
          id="quartoIdInput"
          class="form-control"
          placeholder=" "
          required
        />
        <label class="floating-label" for="quartoIdInput">ID do Quarto</label>
      </div>

      <button type="button" class="btn btn-info btn-block mb-2" (click)="verDetalhes()">Ver Detalhes</button>
      <button type="button" class="btn btn-primary btn-block mb-2" (click)="editarQuarto()">Alterar Quarto</button>
      <button type="button" class="btn btn-danger btn-block mb-2" (click)="excluirQuarto()">Excluir</button>
      <button type="button" class="btn btn-secondary btn-block mb-4" (click)="listarQuartos()">Listar Todos</button>

      <div *ngIf="isLoading" class="d-flex justify-content-center mb-4">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Carregando...</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal para edição -->
  <div *ngIf="showEditModal" class="modal-overlay">
    <div class="modal-content">
      <h5>Editar Quarto</h5>
      <div class="form-outline mb-4">
        <input
          type="text"
          [(ngModel)]="editForm.numero"
          id="numeroInput"
          class="form-control"
          placeholder=" "
          required
        />
        <label class="floating-label" for="numeroInput">Número do Quarto</label>
      </div>

      <div class="form-outline mb-4">
        <input
          type="text"
          [(ngModel)]="editForm.tipo"
          id="tipoInput"
          class="form-control"
          placeholder=" "
          required
        />
        <label class="floating-label" for="tipoInput">Tipo do Quarto</label>
      </div>

      <div class="form-outline mb-4">
        <input
          type="text"
          [(ngModel)]="editForm.status"
          id="statusInput"
          class="form-control"
          placeholder=" "
          required
        />
        <label class="floating-label" for="statusInput">Status do Quarto</label>
      </div>

      <div class="form-outline mb-4">
        <label for="hotelSelect" class="floating-label">Selecionar Hotel</label>
        <select [(ngModel)]="editForm.hotel.id" id="hotelSelect" class="form-control" required>
          <option *ngFor="let hotel of hoteis" [value]="hotel.id">{{ hotel.nome }}</option>
        </select>
      </div>

      <button type="button" class="btn btn-success btn-block" (click)="salvarEdicao()">Salvar Alterações</button>
      <button type="button" class="btn btn-secondary btn-block" (click)="fecharModal()">Fechar</button>
    </div>
  </div>

  <!-- Modal para detalhes -->
  <div *ngIf="showDetailsModal" class="modal-overlay">
    <div class="modal-content">
      <h5>Detalhes do Quarto</h5>
      <p><b>Número:</b> {{ quartoSelecionado?.numero }}</p>
      <p><b>Tipo:</b> {{ quartoSelecionado?.tipo }}</p>
      <p><b>Status:</b> {{ quartoSelecionado?.status }}</p>
      <p><b>Hotel:</b> {{ quartoSelecionado?.hotel?.nome || 'Desconhecido' }}</p>
      <button type="button" class="btn btn-secondary btn-block" (click)="fecharModal()">Fechar</button>
    </div>
  </div>

  <!-- Modal para listar todos -->
  <div *ngIf="showListAllModal" class="modal-overlay">
    <div class="modal-content">
      <h5>Lista de Todos os Quartos</h5>
      <div *ngFor="let quarto of quartos">
        <p>
          <b>ID:</b> {{ quarto.id }} -
          <b>Número:</b> {{ quarto.numero }} -
          <b>Tipo:</b> {{ quarto.tipo }} -
          <b>Hotel:</b> {{ quarto.hotel.nome || 'Desconhecido' }}
        </p>
      </div>
      <button type="button" class="btn btn-secondary btn-block" (click)="fecharModal()">Fechar</button>
    </div>
  </div>


  <footer class="footer">
    © 2024 Reserva Fácil. Todos os direitos reservados.
  </footer>
</div>
